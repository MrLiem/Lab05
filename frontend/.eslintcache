[{"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\index.js":"1","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\App.js":"2","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\MainPage\\MainPage.js":"3","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\AdminPage\\AdminPage.js":"4","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\AddItemPage\\AddItemPage.js":"5","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\DetailItemPage\\DetailItemPage.js":"6","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\LoginPage\\LoginPage.js":"7","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\RegisterPage\\RegisterPage.js":"8","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\SeenItemsPage\\SeenItemsPage.js":"9","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\UpdateItemPage\\UpdateItemPage.js":"10","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\components\\Header\\Header.js":"11","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\components\\Item\\Item.js":"12","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\utils\\validateEmail.js":"13"},{"size":219,"mtime":1607865185824,"results":"14","hashOfConfig":"15"},{"size":1298,"mtime":1607831511993,"results":"16","hashOfConfig":"15"},{"size":1645,"mtime":1607869572908,"results":"17","hashOfConfig":"15"},{"size":2652,"mtime":1607867875003,"results":"18","hashOfConfig":"15"},{"size":5108,"mtime":1607867844629,"results":"19","hashOfConfig":"15"},{"size":3477,"mtime":1607867516131,"results":"20","hashOfConfig":"15"},{"size":2889,"mtime":1607867541362,"results":"21","hashOfConfig":"15"},{"size":2476,"mtime":1607867572012,"results":"22","hashOfConfig":"15"},{"size":2654,"mtime":1607867962869,"results":"23","hashOfConfig":"15"},{"size":5167,"mtime":1607867989716,"results":"24","hashOfConfig":"15"},{"size":4119,"mtime":1607867779579,"results":"25","hashOfConfig":"15"},{"size":2358,"mtime":1607856403054,"results":"26","hashOfConfig":"15"},{"size":249,"mtime":1606124040084,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"73ijz0",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\index.js",[],["58","59"],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\App.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\MainPage\\MainPage.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\AdminPage\\AdminPage.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\AddItemPage\\AddItemPage.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\DetailItemPage\\DetailItemPage.js",["60"],"import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport \"./DetailItemPage.css\";\r\nimport axios from \"axios\";\r\n\r\nconst DetailItemPage = () => {\r\n  const [item, setItem] = useState();\r\n  const id = useParams();\r\n\r\n  const getDetailItem = async () => {\r\n    const response = await axios.get(`/items/detailItem/${id.id}`, {\r\n      withCredentials: true,\r\n    });\r\n    if (response.data.success) {\r\n      // Save to sessionStorage seen itemId if someone not authenticated gets detailItemPage\r\n      let itemId = id.id;\r\n      let oldSeenItems = JSON.parse(sessionStorage.getItem(\"seenItems\"));\r\n      let newSeenItems = [];\r\n\r\n      if (!oldSeenItems) {\r\n        newSeenItems = [itemId];\r\n      } else if (oldSeenItems.includes(itemId)) {\r\n        newSeenItems = oldSeenItems;\r\n      } else {\r\n        newSeenItems = [...oldSeenItems, itemId];\r\n      }\r\n\r\n      sessionStorage.setItem(\"seenItems\", JSON.stringify(newSeenItems));\r\n      setItem(response.data.item);\r\n    } else {\r\n      alert(response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDetailItem();\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <main>\r\n        <h2>Detail Item </h2>\r\n        <h5>Product Id: {item ? item.id : \"\"}</h5>\r\n        <hr />\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"title\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              value={item ? item.title : \"\"}\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"brand\">Brand</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"brand\"\r\n              value={item ? item.brand : \"\"}\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"summary\">Summary</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"summary\"\r\n              value={item ? item.summary : \"\"}\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"form-group\"\r\n            style={{ marginLeft: \"-5px\", justifyContent: \"flex-start\" }}\r\n          >\r\n            <div style={{ paddingLeft: \"165px\", marginRight: \"25px\" }}>\r\n              Image\r\n            </div>\r\n            <img\r\n              src={`data:image/*;base64,${item ? item.image : \"\"}`}\r\n              alt=\"item\"\r\n              style={{ width: \"200px\", height: \"200px\" }}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"price\">Price</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"price\"\r\n              value={item ? item.price : \"\"}\r\n              readOnly\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"number\">Number</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"number\"\r\n              value={item ? item.number : \"\"}\r\n              readOnly\r\n            />\r\n          </div>\r\n        </form>\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default DetailItemPage;\r\n","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\LoginPage\\LoginPage.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\RegisterPage\\RegisterPage.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\SeenItemsPage\\SeenItemsPage.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\screens\\UpdateItemPage\\UpdateItemPage.js",["61"],"import React, { useState, useEffect } from \"react\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport \"./UpdateItemPage.css\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst UpdateItemPage = (props) => {\r\n  const history = useHistory();\r\n  // Get update item value from location.state\r\n  const updateTitle = props.location.state.title;\r\n  const updateBrand = props.location.state.brand;\r\n  const updateSummary = props.location.state.summary;\r\n  const updatePrice = props.location.state.price;\r\n  const updateNumber = props.location.state.number;\r\n  const id = props.location.state.id;\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [summary, setSummary] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const [number, setNumber] = useState(0);\r\n  const [image, setImage] = useState();\r\n\r\n  useEffect(() => {\r\n    setTitle(updateTitle);\r\n    setBrand(updateBrand);\r\n    setSummary(updateSummary);\r\n    setPrice(updatePrice);\r\n    setNumber(updateNumber);\r\n  }, []);\r\n\r\n  const onChangeInput = async (event) => {\r\n    const value = event.target.value;\r\n\r\n    switch (event.target.id) {\r\n      case \"title\":\r\n        setTitle(value);\r\n        break;\r\n      case \"brand\":\r\n        setBrand(value);\r\n        break;\r\n      case \"summary\":\r\n        setSummary(value);\r\n        break;\r\n      case \"images\":\r\n        // image = event.target.files[0];\r\n        setImage(event.target.files[0]);\r\n        break;\r\n      case \"price\":\r\n        setPrice(value);\r\n        break;\r\n      case \"number\":\r\n        setNumber(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const onSubmitHandle = async (event) => {\r\n    event.preventDefault();\r\n    if (!title || !summary || !price || !number || !brand) {\r\n      return alert(\"Please type all the field!!!\");\r\n    }\r\n    const updatedItem = {\r\n      id,\r\n      title,\r\n      summary,\r\n      price,\r\n      number,\r\n      brand,\r\n    };\r\n    // Request update item\r\n    const response = await axios.put(\"/items\", updatedItem, {\r\n      withCredentials: true,\r\n    });\r\n    if (response.data.success) {\r\n      // Send image after successfully send json data\r\n      let formData = new FormData();\r\n      formData.append(\"image\", image);\r\n      // Request update image\r\n      const response2 = await axios.put(\"/items/uploadUpdatedImage\", formData, {\r\n        withCredentials: true,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n      if (response2.data.success) {\r\n        alert(\"upload image Ok\");\r\n        history.push(\"/adminPage\");\r\n      } else {\r\n        alert(response2.data.message);\r\n      }\r\n    } else {\r\n      alert(response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <main>\r\n        <h2>Cập nhật Sản phẩm</h2>\r\n        <h5>Product Id: {id}</h5>\r\n        <hr />\r\n        <form onSubmit={onSubmitHandle}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"title\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              value={title}\r\n              onChange={onChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"brand\">Brand</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"brand\"\r\n              value={brand}\r\n              onChange={onChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"summary\">Summary</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"summary\"\r\n              value={summary}\r\n              onChange={onChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\" style={{ marginLeft: \"-5px\" }}>\r\n            <label htmlFor=\"images\">Image</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"image\"\r\n              id=\"images\"\r\n              onChange={onChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"price\">Price</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"price\"\r\n              value={price}\r\n              onChange={onChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"number\">Number</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"number\"\r\n              value={number}\r\n              onChange={onChangeInput}\r\n            />\r\n          </div>\r\n          <div className=\"form-button\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              id=\"saveItemButton\"\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default UpdateItemPage;\r\n","C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\components\\Header\\Header.js",[],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\components\\Item\\Item.js",[],["62","63"],"C:\\Users\\Admin\\Desktop\\Lab-UngDungWeb\\lab05\\frontend\\src\\utils\\validateEmail.js",[],{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":38,"column":6,"nodeType":"70","endLine":38,"endColumn":8,"suggestions":"71"},{"ruleId":"68","severity":1,"message":"72","line":29,"column":6,"nodeType":"70","endLine":29,"endColumn":8,"suggestions":"73"},{"ruleId":"64","replacedBy":"74"},{"ruleId":"66","replacedBy":"75"},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getDetailItem'. Either include it or remove the dependency array.","ArrayExpression",["78"],"React Hook useEffect has missing dependencies: 'updateBrand', 'updateNumber', 'updatePrice', 'updateSummary', and 'updateTitle'. Either include them or remove the dependency array.",["79"],["76"],["77"],"no-global-assign","no-unsafe-negation",{"desc":"80","fix":"81"},{"desc":"82","fix":"83"},"Update the dependencies array to be: [getDetailItem]",{"range":"84","text":"85"},"Update the dependencies array to be: [updateBrand, updateNumber, updatePrice, updateSummary, updateTitle]",{"range":"86","text":"87"},[1179,1181],"[getDetailItem]",[1069,1071],"[updateBrand, updateNumber, updatePrice, updateSummary, updateTitle]"]